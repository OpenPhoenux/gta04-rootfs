#
# xorg.conf
# for Linux 3.x / Wheezy on Pyra
#
# configures display, touch (with tslib) and power/aux buttons
#

Section "Module"
		Load	"extmod"
		Load	"dbe"
		Load	"glx"
		Load	"freetype"
		Load	"record"
		Load	"dri"
EndSection

Section "ServerFlags"
		# using udev devices and (default) rules in /usr/share/X11/xorg.conf.d/
		# installs 2 or 3 touchscreen drivers which interfere and make Xorg draw 100% CPU power
		# therefore we use static Section "InputDevice" entries
	#	Option "AutoAddDevices" "false"
EndSection

Section "Monitor"
		Identifier		"lcd"
		VendorName      	"LG"
		ModelName		"LH500WF1"
# needs xrandr rotation
#		Option			"Rotate"		left
		DisplaySize 		111 62                  # In millimeters
EndSection

Section "Monitor"
		Identifier		"tv"
		VendorName		"ACME"
		ModelName		"TV"
		DisplaySize		300 400					# In millimeters
EndSection

Section "Monitor"
		Identifier		"dvi"
		VendorName		"ACME"
		ModelName		"DVI"
		DisplaySize		600 800					# In millimeters
EndSection

Section "Device"
		Identifier		"display0"
#		Driver			"omapfb"
		Driver			"fbdev"
		Option			"fb"					"/dev/fb0"
EndSection

Section "Device"
		Identifier		"display1"
#		Driver			"omapfb"
		Driver			"fbdev"
		Option			"fb"					"/dev/fb1"
EndSection

Section "Device"
		Identifier		"display2"
#		Driver			"omapfb"
		Driver			"fbdev"
		Option			"fb"					"/dev/fb2"
EndSection

Section "Screen"
		Identifier		"Screen 0"
		Device			"display0"
		Monitor			"tv"
EndSection

Section "Screen"
		Identifier		"Screen 1"
		Device			"display1"
		Monitor			"lcd"
EndSection

Section "Screen"
		Identifier		"Screen 2"
		Device			"display2"
		Monitor			"dvi"
EndSection

Section "InputDevice"
		Identifier		"Touchscreen"
		Option			"CorePointer"
		Driver			"evdev"
		Option			"Device"		"/dev/input/touchscreen"
		Option 			"Calibration"   "126 3946 3731 192"
EndSection

Section "InputDevice"
		Identifier		"disable1"
		Driver			"void"
		Option			"Device" "/dev/input/mice"
EndSection

Section "InputDevice"
		Identifier		"disable2"
		Driver			"void"
		Option			"Device" "/dev/input/mouse0"
EndSection

Section "InputDevice"
		Identifier		"Power Button"
		Driver			"evdev"
		Option			"Device"		"/dev/input/power"
EndSection

Section "InputDevice"
		Identifier		"AUX Button"
		Driver			"evdev"
		Option			"Device"		"/dev/input/aux"
EndSection

Section "ServerLayout"
		Identifier		"Builtin Default Layout"
		Screen			"Screen 0"
		Screen			"Screen 1"
		Screen			"Screen 2"
		InputDevice		"Touchscreen"	"CorePointer"
		InputDevice		"disable1"
		InputDevice		"disable2"
		InputDevice		"Power Button"	"CoreKeyboard"
		InputDevice		"AUX Button"	"SendCoreEvents"

EndSection

#Section	"InputClass"
#	Identifier		"Calibration"
#	MatchIsTouchscreen	"on"
#	MatchDevicePath "/dev/input/touchscreen"
#	Option			"Calibration"	"245 3849 3827 335"

#	Option	"MinX"	"34"
#	Option	"MaxX"	"923"
#	Option	"MinY"	"908"
#	Option	"MaxY"	"73"

#EndSection
